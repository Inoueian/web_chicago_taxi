  (function() {
    var fn = function() {
      Bokeh.safely(function() {
        (function(root) {
          function embed_document(root) {
            
          var docs_json = '{"58809d0d-6522-4c82-b6a3-f721fbacf941":{"roots":{"references":[{"attributes":{"axis_label":"proportion of taxi rides","formatter":{"id":"a6ac7f4e-d3b5-4d2b-b1ec-a65e955cc897","type":"BasicTickFormatter"},"plot":{"id":"4012d7eb-8c83-4e5c-9877-4dae95aaa3d3","subtype":"Figure","type":"Plot"},"ticker":{"id":"c6e9bff5-619f-4423-89bb-2167afac0465","type":"BasicTicker"}},"id":"cbd647db-519e-43e1-986d-d3f1937c686d","type":"LinearAxis"},{"attributes":{"callback":null,"tooltips":[["(x,y)","($x, $y)"]]},"id":"4a4ad33c-a112-418b-ac52-fc0b5761a5ad","type":"HoverTool"},{"attributes":{},"id":"c6e9bff5-619f-4423-89bb-2167afac0465","type":"BasicTicker"},{"attributes":{"data_source":{"id":"adc8ac95-c6d0-4aef-94c8-3700b627e0f4","type":"ColumnDataSource"},"glyph":{"id":"c9054357-c398-4dd3-be6e-3236854a2473","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"5a4af3c3-91bd-402c-b825-973970e7506d","type":"Line"},"selection_glyph":null,"view":{"id":"5c2d53ce-2255-41e7-941f-c23f5d74ce5f","type":"CDSView"}},"id":"01cd9a9f-3d47-43be-98cf-9caa2cd2cbc7","type":"GlyphRenderer"},{"attributes":{"source":{"id":"adc8ac95-c6d0-4aef-94c8-3700b627e0f4","type":"ColumnDataSource"}},"id":"aa273856-2967-4c2a-aa7a-fb3e32b8bf02","type":"CDSView"},{"attributes":{"dimension":1,"plot":{"id":"4012d7eb-8c83-4e5c-9877-4dae95aaa3d3","subtype":"Figure","type":"Plot"},"ticker":{"id":"c6e9bff5-619f-4423-89bb-2167afac0465","type":"BasicTicker"}},"id":"aa42ec91-fbd5-45e2-ae9b-d64abd61773b","type":"Grid"},{"attributes":{"label":{"value":"North"},"renderers":[{"id":"01cd9a9f-3d47-43be-98cf-9caa2cd2cbc7","type":"GlyphRenderer"}]},"id":"8a9e4638-7570-42b3-890d-1f84d8450c56","type":"LegendItem"},{"attributes":{"line_color":"#99d594","line_width":2,"x":{"field":"x"},"y":{"field":"N"}},"id":"c9054357-c398-4dd3-be6e-3236854a2473","type":"Line"},{"attributes":{"source":{"id":"adc8ac95-c6d0-4aef-94c8-3700b627e0f4","type":"ColumnDataSource"}},"id":"8a7ae214-00a2-4541-8829-0fd62690873f","type":"CDSView"},{"attributes":{"data_source":{"id":"adc8ac95-c6d0-4aef-94c8-3700b627e0f4","type":"ColumnDataSource"},"glyph":{"id":"2440c7ad-b2be-4485-8132-f8638ed68b75","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"cdc44007-db3a-4ce1-bf6e-b30d1a2fdbbf","type":"Line"},"selection_glyph":null,"view":{"id":"8a7ae214-00a2-4541-8829-0fd62690873f","type":"CDSView"}},"id":"d83b57f1-66ec-46a5-8e47-577e4483d1bd","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"W"}},"id":"155fe0d2-3944-4497-b1e9-5395a05cb51f","type":"Line"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"total"}},"id":"cdc44007-db3a-4ce1-bf6e-b30d1a2fdbbf","type":"Line"},{"attributes":{"source":{"id":"adc8ac95-c6d0-4aef-94c8-3700b627e0f4","type":"ColumnDataSource"}},"id":"e2413615-7184-4b70-a99a-ec875962409b","type":"CDSView"},{"attributes":{"line_color":"#e6f598","line_width":2,"x":{"field":"x"},"y":{"field":"W"}},"id":"2fa0d309-8cec-444e-a357-d7486516c2df","type":"Line"},{"attributes":{},"id":"6e1d5ad5-c919-439f-a9f9-ef7b693d849c","type":"PanTool"},{"attributes":{"data_source":{"id":"adc8ac95-c6d0-4aef-94c8-3700b627e0f4","type":"ColumnDataSource"},"glyph":{"id":"2fa0d309-8cec-444e-a357-d7486516c2df","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"155fe0d2-3944-4497-b1e9-5395a05cb51f","type":"Line"},"selection_glyph":null,"view":{"id":"aa273856-2967-4c2a-aa7a-fb3e32b8bf02","type":"CDSView"}},"id":"2b694850-f8f7-4d2e-a09b-7fc37c845599","type":"GlyphRenderer"},{"attributes":{"source":{"id":"adc8ac95-c6d0-4aef-94c8-3700b627e0f4","type":"ColumnDataSource"}},"id":"5c2d53ce-2255-41e7-941f-c23f5d74ce5f","type":"CDSView"},{"attributes":{"label":{"value":"West"},"renderers":[{"id":"2b694850-f8f7-4d2e-a09b-7fc37c845599","type":"GlyphRenderer"}]},"id":"96e1e304-0448-495d-9bcc-04737597e873","type":"LegendItem"},{"attributes":{"line_color":"#fee08b","line_width":2,"x":{"field":"x"},"y":{"field":"S"}},"id":"32b00604-2545-4b4f-b4d5-a021f45b65c7","type":"Line"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"S"}},"id":"fa7d2042-9118-45e7-b956-c6f65f6c5878","type":"Line"},{"attributes":{"label":{"value":"South"},"renderers":[{"id":"124f391f-538d-4efe-b481-18c521477769","type":"GlyphRenderer"}]},"id":"fde8cd57-a9e5-41f4-964e-f0256ee09cc1","type":"LegendItem"},{"attributes":{},"id":"a6ac7f4e-d3b5-4d2b-b1ec-a65e955cc897","type":"BasicTickFormatter"},{"attributes":{},"id":"b20db816-5379-4f32-8ad7-a243a80b5fb8","type":"BasicTicker"},{"attributes":{},"id":"a98f65d3-3050-4ad9-8cab-c9fbc3fe0656","type":"BasicTickFormatter"},{"attributes":{"plot":null,"text":"Taxi traffic reduction by region"},"id":"aaa86f47-210e-42bb-ab73-381a4c2b7aaa","type":"Title"},{"attributes":{"callback":null},"id":"6b9260a3-5b5a-4e89-816e-802e2234c0c6","type":"Range1d"},{"attributes":{},"id":"98ede006-726b-4498-8402-2723572c47e2","type":"LinearScale"},{"attributes":{"source":{"id":"adc8ac95-c6d0-4aef-94c8-3700b627e0f4","type":"ColumnDataSource"}},"id":"475ddd08-5495-413f-931b-8364873da828","type":"CDSView"},{"attributes":{"data_source":{"id":"adc8ac95-c6d0-4aef-94c8-3700b627e0f4","type":"ColumnDataSource"},"glyph":{"id":"32b00604-2545-4b4f-b4d5-a021f45b65c7","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"fa7d2042-9118-45e7-b956-c6f65f6c5878","type":"Line"},"selection_glyph":null,"view":{"id":"e2413615-7184-4b70-a99a-ec875962409b","type":"CDSView"}},"id":"124f391f-538d-4efe-b481-18c521477769","type":"GlyphRenderer"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_scroll":"auto","active_tap":"auto","tools":[{"id":"6e1d5ad5-c919-439f-a9f9-ef7b693d849c","type":"PanTool"},{"id":"9ed9f005-fc43-4fb4-b16f-df009bba40f4","type":"BoxZoomTool"},{"id":"cc4656a9-7867-4668-b199-323e0d00f32a","type":"WheelZoomTool"},{"id":"47cb4a13-4f92-4b3a-b30a-2d983c47d76d","type":"ResetTool"},{"id":"b7ee342f-8165-4509-8caf-95a26a84fddd","type":"SaveTool"},{"id":"4a4ad33c-a112-418b-ac52-fc0b5761a5ad","type":"HoverTool"}]},"id":"b2b86b1e-2f29-467a-b6e4-14ae39a92416","type":"Toolbar"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"L"}},"id":"a544902e-8bd6-4df9-89c3-6b266dc1340d","type":"Line"},{"attributes":{},"id":"cc4656a9-7867-4668-b199-323e0d00f32a","type":"WheelZoomTool"},{"attributes":{"callback":null,"column_names":["census_tract","avg","std","region","ratio_from","ratio_to","index"],"data":{"avg":{"__ndarray__":"u4ZrhvOlJkBTpQX8MLEjQCZmMQHcQiFAcMJ7WESYIUBTXlmQB5MgQCzaHtJUoiFAltD7It7+HUC5lefOksAeQEPLRYjCcR5AvcefeQQUIEDE2RKnpbUeQCm1CpHnoRxA7RNUilKgHUAEY7XZix4aQO6XVlmQ+xlAdsqYJZzHGEBs4KDQroIYQJ40qnU4gBpAeZU+4CK1IEDygah8VY8YQERCaOIapBhAtwH4NjoaF0Cwrzng1+cVQGjwSHQsqBhAVQFr8r7mIEDlVlsQYWcdQMrzzmod4BxAusXzRmOZJEAh9h2hhBAYQFkYa8aFYBZAXeU8LCPZIkD2FMel1DccQIRz5C+0yiJA1+plsryHIEDkJVcngtpDQCQheT72ZjxA","dtype":"float64","shape":[36]},"census_tract":["17031071400","17031071500","17031080100","17031080201","17031080202","17031080300","17031081000","17031081100","17031081201","17031081202","17031081300","17031081401","17031081402","17031081403","17031081500","17031081600","17031081700","17031081800","17031243500","17031280100","17031281900","17031320100","17031320400","17031320600","17031330100","17031833000","17031833100","17031838100","17031839000","17031839100","17031841000","17031841900","17031842200","17031842300","17031980000","17031980100"],"index":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35],"ratio_from":{"__ndarray__":"RhM0JxF1dD/r8LRZ5raDP0cF/yKl4nw/sM8fkWjyZT/gWdCePSx1PxvD61eoBnw/tcLKdTrDgT+e6xDx5L58PytgVgXRaaE/2RjYAybSgD94/2/61u6YPwSWv/Dl5qA/giEsC50tkj/N4hRVqJOmP6yglBnSX6s/JjL/atXQlz+p3G30zdyqP+AzTEPiYaQ/hSFnmLqZaD9rVGs6NzqiP+NFF68nlK8/3KoeCd1wsz8hRCpJcOebP3l/JBPRbJE/cg3hICmqoj91gOuiTbWWPw5XcMAhdIg/FO5SdPQrbj8NUp+up/5+P6Y8VGTWYsI/qTBCMlz7hT+05WcShTGDP3K/FoOibHg/bCg0z8+0cj8pynwmYaumP21Xpu2kLI8/","dtype":"float64","shape":[36]},"ratio_to":{"__ndarray__":"drxDlUzhbD/FCititlyAP8igDsJpm34/Ns/S21hrZT8Z53JZXrB4P4nkHiUbBXk/qRt8b/29gz9BdZRb+zeCP9sXm5QXP6I/reENgBQ8gj98m7j4EnCdP6gm2sUGEaA/2z03FKWOkz8qP7Qk8jqnP+VeIazx/bI/fpeJknfVmz9ULjhAoB6tP0+cFLUfVaI/7GDUjDaPWD9imbpszRujPwxTSEi8jLA/qameTCZbuD8e3HGhidGdP40wFySVTZE/2i4vQTBUmz+h89PViUWGPyG+NUsRQX4/SQvnoUDTUD9q556wsypwP+xst8HDscM/Fwf5wahtgj9ypNQH9aluPx5NZPiis3M/qakHxm+IYT+aG8nODferPxXfxqpAc5A/","dtype":"float64","shape":[36]},"region":["N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","W","W","W","L","L","L","S","W","W","W","L","L","S","W","N","W","W","S"],"std":{"__ndarray__":"SkK5ZEnk/D/jJvngdmD5P3DtPJZYzvY/1VTc2dPn9D9OA5s/2vT0P6S/gkQ+vvc/qvPJBqmC9D/KzQ3vD7z0PzCnq4AWnPY/HUz2T3go9z82aLjUixX4P1bn8GhDbfY/VC2DTTWj9z9CkUMMyPj1P1k1Vcd50fU/W0/srcQC9D/I9l4FZIbzPynatVt5KvU/5YVuUQqg+T/ilPRUvNXyP49xQRh0HPQ/IGhHzpjt+T/aFaBBBYf4P3iks7CE9/w/V4FuZT6K/z8+r6EgpP72P1p8taRdbPc/UWZwGDfY/j/v5duDiEr4P1C6eMeZePc/WFx/YKor/j/7CvM7gvD7P0SmCslOWf8/CZu6LCInAkDEcd9uJqkVQIsxLv815g5A","dtype":"float64","shape":[36]}}},"id":"31c22759-44cb-4108-94b1-a525dbec504e","type":"ColumnDataSource"},{"attributes":{"args":{"avg_source":{"id":"31c22759-44cb-4108-94b1-a525dbec504e","type":"ColumnDataSource"},"dir_select":{"id":"8b217453-9ca8-424e-94ed-a1c352f8814c","type":"Select"},"source":{"id":"adc8ac95-c6d0-4aef-94c8-3700b627e0f4","type":"ColumnDataSource"}},"code":"\\n    var data = source.data\\n    var avg_data = avg_source.data\\n    var dir = dir_select.value\\n    var elas = cb_obj.value\\n    \\n    regions = avg_data[&#x27;region&#x27;]\\n    avgs = avg_data[&#x27;avg&#x27;]\\n    if (dir == &#x27;from the Loop&#x27;) {\\n        var ratios = avg_data[&#x27;ratio_from&#x27;]\\n    } else {\\n        var ratios = avg_data[&#x27;ratio_to&#x27;]\\n    }\\n    sum = ratios.reduce((a, b) =&gt; a + b, 0)\\n    \\n    x = data[&#x27;x&#x27;]\\n    total = data[&#x27;total&#x27;]\\n    N = data[&#x27;N&#x27;]\\n    W = data[&#x27;W&#x27;]\\n    S = data[&#x27;S&#x27;]\\n    L = data[&#x27;L&#x27;]\\n    \\n    for (i = 0; i &lt; x.length; i++) {\\n        N[i] = 0\\n        W[i] = 0\\n        S[i] = 0\\n        L[i] = 0\\n        for (j = 0; j &lt; regions.length; j++) {\\n            if (regions[j] == &#x27;N&#x27;) {\\n                N[i] += ratios[j] * (1 - elas * x[i] / avgs[j])\\n            } else if (regions[j] == &#x27;W&#x27;) {\\n                W[i] += ratios[j] * (1 - elas * x[i] / avgs[j])\\n            } else if (regions[j] == &#x27;S&#x27;) {\\n                S[i] += ratios[j] * (1 - elas * x[i] / avgs[j])\\n            } else {\\n                L[i] += ratios[j]\\n            }\\n        }\\n        N[i] = N[i] / sum\\n        W[i] = W[i] / sum\\n        S[i] = S[i] / sum\\n        L[i] = L[i] / sum\\n        total[i] = N[i] + W[i] + S[i] + L[i]\\n    }\\n    source.change.emit()\\n"},"id":"3c556694-def7-4dc2-95a8-1fcec16e536f","type":"CustomJS"},{"attributes":{},"id":"b7ee342f-8165-4509-8caf-95a26a84fddd","type":"SaveTool"},{"attributes":{"line_color":"#3288bd","line_width":2,"x":{"field":"x"},"y":{"field":"total"}},"id":"2440c7ad-b2be-4485-8132-f8638ed68b75","type":"Line"},{"attributes":{},"id":"47cb4a13-4f92-4b3a-b30a-2d983c47d76d","type":"ResetTool"},{"attributes":{"data_source":{"id":"adc8ac95-c6d0-4aef-94c8-3700b627e0f4","type":"ColumnDataSource"},"glyph":{"id":"a74a966a-05a4-4ded-a73b-01641ba58ab5","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"a544902e-8bd6-4df9-89c3-6b266dc1340d","type":"Line"},"selection_glyph":null,"view":{"id":"475ddd08-5495-413f-931b-8364873da828","type":"CDSView"}},"id":"ff4fb56a-fe94-4b2c-8692-72e5d40a5978","type":"GlyphRenderer"},{"attributes":{},"id":"f3dff2c1-96ad-4f42-85c7-930f59ecd079","type":"LinearScale"},{"attributes":{"line_color":"#fc8d59","line_width":2,"x":{"field":"x"},"y":{"field":"L"}},"id":"a74a966a-05a4-4ded-a73b-01641ba58ab5","type":"Line"},{"attributes":{"below":[{"id":"15f853dc-d4d3-4e12-bfb2-094eaf078148","type":"LinearAxis"}],"left":[{"id":"cbd647db-519e-43e1-986d-d3f1937c686d","type":"LinearAxis"}],"renderers":[{"id":"15f853dc-d4d3-4e12-bfb2-094eaf078148","type":"LinearAxis"},{"id":"a606b6bc-18d4-429c-b4a2-44902e88d600","type":"Grid"},{"id":"cbd647db-519e-43e1-986d-d3f1937c686d","type":"LinearAxis"},{"id":"aa42ec91-fbd5-45e2-ae9b-d64abd61773b","type":"Grid"},{"id":"9194b431-2ab3-4c1c-9c3d-164f46fa6083","type":"BoxAnnotation"},{"id":"dcaa86f7-08ce-48a7-9d5d-3adcfe153905","type":"Legend"},{"id":"d83b57f1-66ec-46a5-8e47-577e4483d1bd","type":"GlyphRenderer"},{"id":"01cd9a9f-3d47-43be-98cf-9caa2cd2cbc7","type":"GlyphRenderer"},{"id":"2b694850-f8f7-4d2e-a09b-7fc37c845599","type":"GlyphRenderer"},{"id":"124f391f-538d-4efe-b481-18c521477769","type":"GlyphRenderer"},{"id":"ff4fb56a-fe94-4b2c-8692-72e5d40a5978","type":"GlyphRenderer"}],"title":{"id":"aaa86f47-210e-42bb-ab73-381a4c2b7aaa","type":"Title"},"toolbar":{"id":"b2b86b1e-2f29-467a-b6e4-14ae39a92416","type":"Toolbar"},"x_range":{"id":"291b51e1-7fb4-4eb8-bc15-11dd0d15cc7e","type":"Range1d"},"x_scale":{"id":"f3dff2c1-96ad-4f42-85c7-930f59ecd079","type":"LinearScale"},"y_range":{"id":"6b9260a3-5b5a-4e89-816e-802e2234c0c6","type":"Range1d"},"y_scale":{"id":"98ede006-726b-4498-8402-2723572c47e2","type":"LinearScale"}},"id":"4012d7eb-8c83-4e5c-9877-4dae95aaa3d3","subtype":"Figure","type":"Plot"},{"attributes":{"items":[{"id":"e8d36a44-0b3a-4fa6-a78c-305e5ae0f848","type":"LegendItem"},{"id":"8a9e4638-7570-42b3-890d-1f84d8450c56","type":"LegendItem"},{"id":"96e1e304-0448-495d-9bcc-04737597e873","type":"LegendItem"},{"id":"fde8cd57-a9e5-41f4-964e-f0256ee09cc1","type":"LegendItem"},{"id":"73975be2-3ac1-4a4d-a28f-fd02804eb96b","type":"LegendItem"}],"plot":{"id":"4012d7eb-8c83-4e5c-9877-4dae95aaa3d3","subtype":"Figure","type":"Plot"}},"id":"dcaa86f7-08ce-48a7-9d5d-3adcfe153905","type":"Legend"},{"attributes":{"label":{"value":"Loop"},"renderers":[{"id":"ff4fb56a-fe94-4b2c-8692-72e5d40a5978","type":"GlyphRenderer"}]},"id":"73975be2-3ac1-4a4d-a28f-fd02804eb96b","type":"LegendItem"},{"attributes":{"axis_label":"fee (dollars)","formatter":{"id":"a98f65d3-3050-4ad9-8cab-c9fbc3fe0656","type":"BasicTickFormatter"},"plot":{"id":"4012d7eb-8c83-4e5c-9877-4dae95aaa3d3","subtype":"Figure","type":"Plot"},"ticker":{"id":"b20db816-5379-4f32-8ad7-a243a80b5fb8","type":"BasicTicker"}},"id":"15f853dc-d4d3-4e12-bfb2-094eaf078148","type":"LinearAxis"},{"attributes":{"callback":null,"js_property_callbacks":{"change:value":[{"id":"6cb6b5a0-5254-4203-983d-208b736f9987","type":"CustomJS"}]},"options":["from the Loop","to the Loop"],"title":"direction","value":"from the Loop"},"id":"8b217453-9ca8-424e-94ed-a1c352f8814c","type":"Select"},{"attributes":{"plot":{"id":"4012d7eb-8c83-4e5c-9877-4dae95aaa3d3","subtype":"Figure","type":"Plot"},"ticker":{"id":"b20db816-5379-4f32-8ad7-a243a80b5fb8","type":"BasicTicker"}},"id":"a606b6bc-18d4-429c-b4a2-44902e88d600","type":"Grid"},{"attributes":{"overlay":{"id":"9194b431-2ab3-4c1c-9c3d-164f46fa6083","type":"BoxAnnotation"}},"id":"9ed9f005-fc43-4fb4-b16f-df009bba40f4","type":"BoxZoomTool"},{"attributes":{"args":{"avg_source":{"id":"31c22759-44cb-4108-94b1-a525dbec504e","type":"ColumnDataSource"},"elas_select":{"id":"4f274f7e-8eae-4320-98b1-124e400204e6","type":"Slider"},"source":{"id":"adc8ac95-c6d0-4aef-94c8-3700b627e0f4","type":"ColumnDataSource"}},"code":"\\n    var data = source.data\\n    var dir = cb_obj.value\\n    var elas = elas_select.value\\n    var avg_data = avg_source.data\\n\\n    regions = avg_data[&#x27;region&#x27;]\\n    avgs = avg_data[&#x27;avg&#x27;]\\n    if (dir == &#x27;from the Loop&#x27;) {\\n        var ratios = avg_data[&#x27;ratio_from&#x27;]\\n    } else {\\n        var ratios = avg_data[&#x27;ratio_to&#x27;]\\n    }\\n    sum = ratios.reduce((a, b) =&gt; a + b, 0)\\n\\n    x = data[&#x27;x&#x27;]\\n    total = data[&#x27;total&#x27;]\\n    N = data[&#x27;N&#x27;]\\n    W = data[&#x27;W&#x27;]\\n    S = data[&#x27;S&#x27;]\\n    L = data[&#x27;L&#x27;]\\n\\n    for (i = 0; i &lt; x.length; i++) {\\n        N[i] = 0\\n        W[i] = 0\\n        S[i] = 0\\n        L[i] = 0\\n        for (j = 0; j &lt; regions.length; j++) {\\n            if (regions[j] == &#x27;N&#x27;) {\\n                N[i] += ratios[j] * (1 - elas * x[i] / avgs[j])\\n            } else if (regions[j] == &#x27;W&#x27;) {\\n                W[i] += ratios[j] * (1 - elas * x[i] / avgs[j])\\n            } else if (regions[j] == &#x27;S&#x27;) {\\n                S[i] += ratios[j] * (1 - elas * x[i] / avgs[j])\\n            } else {\\n                L[i] += ratios[j]\\n            }\\n        }\\n        N[i] = N[i] / sum\\n        W[i] = W[i] / sum\\n        S[i] = S[i] / sum\\n        L[i] = L[i] / sum\\n        total[i] = N[i] + W[i] + S[i] + L[i]\\n    }\\n    source.change.emit()\\n"},"id":"6cb6b5a0-5254-4203-983d-208b736f9987","type":"CustomJS"},{"attributes":{"callback":null,"column_names":["x","total","N","W","L","S","index"],"data":{"L":{"__ndarray__":"jDLxKOFe0T+MMvEo4V7RP4wy8SjhXtE/jDLxKOFe0T+MMvEo4V7RP4wy8SjhXtE/jDLxKOFe0T+MMvEo4V7RP4wy8SjhXtE/jDLxKOFe0T+MMvEo4V7RP4wy8SjhXtE/jDLxKOFe0T+MMvEo4V7RP4wy8SjhXtE/jDLxKOFe0T+MMvEo4V7RP4wy8SjhXtE/jDLxKOFe0T+MMvEo4V7RP4wy8SjhXtE/jDLxKOFe0T+MMvEo4V7RP4wy8SjhXtE/jDLxKOFe0T+MMvEo4V7RP4wy8SjhXtE/jDLxKOFe0T+MMvEo4V7RP4wy8SjhXtE/jDLxKOFe0T+MMvEo4V7RP4wy8SjhXtE/jDLxKOFe0T+MMvEo4V7RP4wy8SjhXtE/jDLxKOFe0T+MMvEo4V7RP4wy8SjhXtE/jDLxKOFe0T+MMvEo4V7RP4wy8SjhXtE/jDLxKOFe0T+MMvEo4V7RP4wy8SjhXtE/jDLxKOFe0T+MMvEo4V7RP4wy8SjhXtE/jDLxKOFe0T+MMvEo4V7RP4wy8SjhXtE/","dtype":"float64","shape":[51]},"N":{"__ndarray__":"/T8qYVDc2D+7bGFHv67YP3qZmC0ugdg/OMbPE51T2D/18gb6CybYP7QfPuB6+Nc/ckx1xunK1z8xeaysWJ3XP++l45LHb9c/rdIaeTZC1z9q/1FfpRTXPyksiUUU59Y/5ljAK4O51j+lhfcR8ovWP2SyLvhgXtY/Id9l3s8w1j/fC53EPgPWP5041Kqt1dU/XGULkRyo1T8ZkkJ3i3rVP9i+eV36TNU/leuwQ2kf1T9UGOgp2PHUPxNFHxBHxNQ/0HFW9rWW1D+Ono3cJGnUP0zLxMKTO9Q/Cvj7qAIO1D/JJDOPceDTP4dRanXgstM/RH6hW0+F0z8Dq9hBvlfTP8HXDygtKtM/fwRHDpz80j89MX70Cs/SP/tdtdp5odI/uYrswOhz0j94tyOnV0bSPzbkWo3GGNI/8xCSczXr0T+xPclZpL3RP29qAEATkNE/LZc3JoJi0T/sw24M8TTRP6rwpfJfB9E/aB3d2M7Z0D8mShS/PazQP+R2S6WsftA/oqOCixtR0D9g0LlxiiPQPz764a/y688/","dtype":"float64","shape":[51]},"S":{"__ndarray__":"dy/baCn0rz9gDIYb6syvP0jpMM6qpa8/NMbbgGt+rz8do4YzLFevPwaAMebsL68/7lzcmK0Irz/XOYdLbuGuP8EWMv4uuq4/qvPcsO+Srj+T0IdjsGuuP3ytMhZxRK4/ZordyDEdrj9OZ4h78vWtPzhEMy6zzq0/ICHe4HOnrT8K/oiTNICtP/PaM0b1WK0/3Lfe+LUxrT/FlImrdgqtP65xNF4346w/l07fEPi7rD+AK4rDuJSsP2kINXZ5baw/UuXfKDpGrD88worb+h6sPyWfNY6796s/DnzgQHzQqz/4WIvzPKmrP+E1Nqb9gas/yhLhWL5aqz+y74sLfzOrP5zMNr4/DKs/hanhcADlqj9vhowjwb2qP1djN9aBlqo/QUDiiEJvqj8qHY07A0iqPxP6N+7DIKo//NbioIT5qT/ms41TRdKpP86QOAYGq6k/uG3juMaDqT+hSo5rh1ypP4onOR5INak/cwTk0AgOqT9d4Y6DyeaoP0W+OTaKv6g/Lpvk6EqYqD8YeI+bC3GoPwBVOk7MSag/","dtype":"float64","shape":[51]},"W":{"__ndarray__":"eVY3YDEgyT/mcheWjfjIP1KP98vp0Mg/vKvXAUapyD8nyLc3ooHIP5Tkl23+Wcg//gB4o1oyyD9qHVjZtgrIP9Y5OA8T48c/QFYYRW+7xz+scvh6y5PHPxmP2LAnbMc/g6u45oNExz/ux5gc4BzHP1rkeFI89cY/xgBZiJjNxj8wHTm+9KXGP5s5GfRQfsY/B1b5Ka1Wxj9yctlfCS/GP96OuZVlB8Y/SquZy8HfxT+0x3kBHrjFPyDkWTd6kMU/jAA6bdZoxT/3HBqjMkHFP2M5+tiOGcU/zlXaDuvxxD85crpER8rEP6WOmnqjosQ/EKt6sP96xD97x1rmW1PEP+bjOhy4K8Q/UgAbUhQExD++HPuHcNzDPyg5273MtMM/lFW78yiNwz8AcpsphWXDP2uOe1/hPcM/1qpblT0Wwz9CxzvLme7CP6zjGwH2xsI/GAD8NlKfwj+EHNxsrnfCP+84vKIKUMI/WlWc2GYowj/GcXwOwwDCPzKOXEQf2cE/nKo8enuxwT8Ixxyw14nBP3Tj/OUzYsE/","dtype":"float64","shape":[51]},"index":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"total":{"__ndarray__":"AAAAAAAA8D96GDnovNnvP/QwctB5s+8/bEmruDaN7z/lYeSg82bvP196HYmwQO8/2JJWcW0a7z9Sq49ZKvTuP8zDyEHnze4/RNwBKqSn7j+99DoSYYHuPzgNdPodW+4/sCWt4to07j8qPubKlw7uP6NWH7NU6O0/HG9YmxHC7T+Wh5GDzpvtPw6gymuLde0/ibgDVEhP7T8A0Tw8BSntP3vpdSTCAu0/8wGvDH/c7D9tGuj0O7bsP+gyId34j+w/X0taxbVp7D/ZY5OtckPsP1J8zJUvHew/y5QFfuz26z9FrT5mqdDrP77Fd05mqus/N96wNiOE6z+w9uke4F3rPyoPIwedN+s/oydc71kR6z8cQJXXFuvqP5VYzr/TxOo/D3EHqJCe6j+JiUCQTXjqPwKieXgKUuo/erqyYMcr6j/z0utIhAXqP2zrJDFB3+k/5gNeGf646T9gHJcBu5LpP9o00Ol3bOk/UU0J0jRG6T/LZUK68R/pP0R+e6Ku+eg/vpa0imvT6D84r+1yKK3oP7DHJlvlhug/","dtype":"float64","shape":[51]},"x":{"__ndarray__":"AAAAAAAAAACamZmZmZm5P5qZmZmZmck/NDMzMzMz0z+amZmZmZnZPwAAAAAAAOA/NDMzMzMz4z9nZmZmZmbmP5qZmZmZmek/zczMzMzM7D8AAAAAAADwP5qZmZmZmfE/NDMzMzMz8z/NzMzMzMz0P2dmZmZmZvY/AAAAAAAA+D+amZmZmZn5PzQzMzMzM/s/zczMzMzM/D9nZmZmZmb+PwAAAAAAAABAzczMzMzMAECamZmZmZkBQGdmZmZmZgJANDMzMzMzA0AAAAAAAAAEQM3MzMzMzARAmpmZmZmZBUBnZmZmZmYGQDQzMzMzMwdAAAAAAAAACEDNzMzMzMwIQJqZmZmZmQlAZ2ZmZmZmCkA0MzMzMzMLQAAAAAAAAAxAzczMzMzMDECamZmZmZkNQGdmZmZmZg5ANDMzMzMzD0AAAAAAAAAQQGdmZmZmZhBAzczMzMzMEEAzMzMzMzMRQJqZmZmZmRFAAAAAAAAAEkBnZmZmZmYSQM3MzMzMzBJANDMzMzMzE0CamZmZmZkTQAAAAAAAABRA","dtype":"float64","shape":[51]}}},"id":"adc8ac95-c6d0-4aef-94c8-3700b627e0f4","type":"ColumnDataSource"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"plot":null,"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"9194b431-2ab3-4c1c-9c3d-164f46fa6083","type":"BoxAnnotation"},{"attributes":{"callback":null,"end":1.0,"js_property_callbacks":{"change:value":[{"id":"3c556694-def7-4dc2-95a8-1fcec16e536f","type":"CustomJS"}]},"start":0.0,"step":0.1,"title":"price elasticity","value":0.5},"id":"4f274f7e-8eae-4320-98b1-124e400204e6","type":"Slider"},{"attributes":{"label":{"value":"Total"},"renderers":[{"id":"d83b57f1-66ec-46a5-8e47-577e4483d1bd","type":"GlyphRenderer"}]},"id":"e8d36a44-0b3a-4fa6-a78c-305e5ae0f848","type":"LegendItem"},{"attributes":{"callback":null,"end":5},"id":"291b51e1-7fb4-4eb8-bc15-11dd0d15cc7e","type":"Range1d"},{"attributes":{"children":[{"id":"8b217453-9ca8-424e-94ed-a1c352f8814c","type":"Select"},{"id":"4f274f7e-8eae-4320-98b1-124e400204e6","type":"Slider"}]},"id":"a33c89c5-3bc1-4fae-87b7-c495d540471c","type":"WidgetBox"},{"attributes":{"children":[{"id":"a33c89c5-3bc1-4fae-87b7-c495d540471c","type":"WidgetBox"},{"id":"4012d7eb-8c83-4e5c-9877-4dae95aaa3d3","subtype":"Figure","type":"Plot"}]},"id":"30b7e2ee-2afa-4cad-b229-cd9063eaa05e","type":"Row"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"N"}},"id":"5a4af3c3-91bd-402c-b825-973970e7506d","type":"Line"}],"root_ids":["30b7e2ee-2afa-4cad-b229-cd9063eaa05e"]},"title":"Bokeh Application","version":"0.12.13"}}';
          var render_items = [{"docid":"58809d0d-6522-4c82-b6a3-f721fbacf941","elementid":"8f741b3a-2232-47e7-85fd-0e1595417e1d","modelid":"30b7e2ee-2afa-4cad-b229-cd9063eaa05e"}];
          root.Bokeh.embed.embed_items(docs_json, render_items);
        
          }
          if (root.Bokeh !== undefined) {
            embed_document(root);
          } else {
            var attempts = 0;
            var timer = setInterval(function(root) {
              if (root.Bokeh !== undefined) {
                embed_document(root);
                clearInterval(timer);
              }
              attempts++;
              if (attempts > 100) {
                console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing")
                clearInterval(timer);
              }
            }, 10, root)
          }
        })(window);
      });
    };
    if (document.readyState != "loading") fn();
    else document.addEventListener("DOMContentLoaded", fn);
  })();
